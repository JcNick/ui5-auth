sap.ui.define(["sap/ui/core/Control"],function(t){return t.extend("spet.auth.helper.BaseDynamicActionHelper",{metadata:{properties:{role:{type:"any"},whenPresent:{type:"spet.auth.IAction"},whenMissing:{type:"spet.auth.IAction"}},associations:{view:{type:"sap.ui.core.mvc.View",multiple:!1}}},_counter:0,setRole:function(t){this.setProperty("role",t),jQuery.when(t).then(this.updateRole.bind(this,++this._counter))},updateRole:function(t,e){t===this._counter&&(this.setProperty("role",e),this.refresh())},refresh:function(){var t=null,e=sap.ui.getCore().byId(this.getView());!0===this.getRole()?t=this.getWhenPresent():!1===this.getRole()&&(t=this.getWhenMissing()),t&&this.getSelectedElements().forEach(function(r){t.process(e,r)})}})},!1);